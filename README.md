# üì¶ RequestTrack Backend

–ë—ç–∫–µ–Ω–¥ RequestTrack –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ **TypeScript**, **Node.js**, **Express**, **Zod** **PostgreSQL** –∏ **Drizzle ORM**.  
–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ **Docker**.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –°–∫–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

   ````
   git clone https://github.com/mukhammat/RequestTrack.git
   cd RequestTrack
   ```

   ````

2. –ó–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç:
   ```
   docker compose up --build
   ```

## ‚å®Ô∏è –†—É—á–Ω–æ–π —Å—Ç–∞—Ä—Ç

1. –°–∫–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

   ```
   git clone https://github.com/mukhammat/RequestTrack.git
   cd RequestTrack
   ```

2. –°–æ–∑–¥–∞–π .env

   ```
   DATABASE_URL="postgresql://postgres:nohamylove@localhost:5432/backend_test_db? schema=public"
   PORT=5000
   NODE_ENV=development
   ```

   –ï—Å–ª–∏ –≤ production —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –¥–ª—è `NODE_ENV=production`

3. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∏ –º–∏–≥—Ä–∏—Ä—É–π—Ç–µ –±–¥

```
    npm run generate
    npm run migrate
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```
    npm run dev


```

    –ï—Å–ª–∏ –≤ production —Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:

    npm run build

```
    –∑–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

    npm start
```

## üìò API –≠–Ω–¥–ø–æ–π–Ω—Ç—ã

### üîπ POST /api/request/requests

–°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ

- **URL:** `/api/request/requests`
- **–ú–µ—Ç–æ–¥:** `POST`

### üîπ PATCH /api/request/requests/:requestId/status/:status

–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è.

- **URL:** `/api/request/requests/:requestId/status/:status`
- **–ú–µ—Ç–æ–¥:** `PATCH`
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è `Bearer Token`

#### üìå –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:

- `requestId` ‚Äì ID –æ–±—Ä–∞—â–µ–Ω–∏—è
- `status` ‚Äì –ù–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞—â–µ–Ω–∏—è

#### üõ† –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è `:status`:

| –°—Ç–∞—Ç—É—Å      | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                    |
| ----------- | ----------------------------- |
| `working`   | –í–∑—è—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ –≤ —Ä–∞–±–æ—Ç—É      |
| `completed` | –ó–∞–≤–µ—Ä—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ–±—Ä–∞—â–µ–Ω–∏—è |
| `canceled`  | –û—Ç–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ            |

#### üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞:

–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ (JSON):

- –î–ª—è `completed`:
  - `result` ‚Äì –¢–µ–∫—Å—Ç —Å —Ä–µ—à–µ–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã
- –î–ª—è `canceled`:
  - `result` ‚Äì –ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–º–µ–Ω—ã –æ–±—Ä–∞—â–µ–Ω–∏—è

### üîπ GET /api/request/requests

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞—â–µ–Ω–∏–π —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –¥–∞—Ç–µ –∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç.

- **URL:** `/api/request/requests`
- **–ú–µ—Ç–æ–¥:** `GET`
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è `Bearer Token`

#### üîç Query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

- `date` ‚Äì –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –¥–∞—Ç–µ (—Ñ–æ—Ä–º–∞—Ç: `YYYY-MM-DD`)
- `from` ‚Äì –ù–∞—á–∞–ª–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–∞—Ç (—Ñ–æ—Ä–º–∞—Ç: `YYYY-MM-DD`)
- `to` ‚Äì –ö–æ–Ω–µ—Ü –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–∞—Ç (—Ñ–æ—Ä–º–∞—Ç: `YYYY-MM-DD`)

### üîπ PATCH /api/request/cancel-all

–û—Ç–º–µ–Ω–∏—Ç—å –≤—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ "working"

- **URL:** `/api/request/cancel-all`
- **–ú–µ—Ç–æ–¥:** `PATCH`
